<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>p266_isConcatSpreadable</title>
</head>
<body>
	<script type="text/javascript">
		/*
			isConcatSpreadable : Array 오브젝트의 concat()에서 배열을 결합할 때 결합하는 배열의 펼침 여부를 지정합니다.

			[구문] Symbol.isConcatSpreadable = true / false, 디폴트 true

			프로퍼티에 false를 할당하면 one.concat(two)에서 two 배열을 펼치지 않고 one 배열 끝에 첨부
			따라서 true,false 따라 one 배열에 length 값이 달라진다.

			프로퍼티로만 사용가능, 함수로는 사용 할 수 없다. Array-like 오브젝트에서 사용할 수 있으며 클래스에 사용 할 수 있다.
		*/

		let one = [11, 12], two = [21, 22];
		let result = one.concat(two);
		// Array.prototype에 [Symbol.isConcatSpreadable]을 작성하지 않았으므로 디폴트 값인 true
		console.log(result, result.length); // [11, 12, 21, 22] , 4

		two[Symbol.isConcatSpreadable] = false;
		result = one.concat(two);
		console.log(result, result.length); // [11, 12, [21, 22]] , 3

		two[Symbol.isConcatSpreadable] = true;
		result = one.concat(two);
		console.log(result, result.length); // [11, 12, 21, 22] , 4

		/*
			Array-like 오브젝트에도 사용
			Array-like 오브젝트도 concat()을 사용할 수 있으며 isConcatSpreadable도 사용 가능
		*/
		console.log("Array-like 사용");

		let three = [11, 12];
		let fiveSix = { // Array-lkie
			0: "five", 1: "six", length: 2
		};
		let result1 = three.concat(fiveSix);
		console.log(result1, result.length); // [11, 12, Object]

		let arrayLike = {
			[Symbol.isConcatSpreadable]: true,
			0: "five", 1: "six", length: 2
		};

		result1 = one.concat(arrayLike); // [Symbol.isConcatSpreadable]이 true이므로 Array-like 오브젝트의 각 프로퍼티를 분리하여 배열 끝에 첨부
		console.log(result1, result.length); // [11, 12, "five", "six"]

	</script>
</body>
</html>
